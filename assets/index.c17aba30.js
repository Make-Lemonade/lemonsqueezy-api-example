import{r as e,c as t,a as r,b as s,o as a,g as o,d as n,e as i,s as l,F as d,f as u,w as c,t as p,h as m,i as h,j as f,k as y,l as b,m as g,v,n as w,p as x,q as k,u as C,x as _}from"./vendor.9b64f744.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const q={},S={class:"bg-gray-100"},j={class:"max-w-60 mx-auto h-screen overflow-auto bg-light-95"};q.render=function(o,n){const i=e("router-view");return a(),t("div",S,[r("div",j,[s(i)])])};var L={get(e,t={}){return this.request("get",e,t)},post(e,t={}){return this.request("post",e,t)},put(e,t={}){return this.request("put",e,t)},patch(e,t={}){return this.request("patch",e,t)},delete(e,t={}){return this.request("delete",e,t)},request:(e,t,r={})=>o("user.token").then((s=>n({method:e,url:`https://api.lemonsqueezy.com/${t}`,headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json",Authorization:`Bearer ${s}`},params:"get"===e?r:{},data:"get"!==e?r:{}})))},$=i({state:()=>({store:{}}),mutations:{setStore(e,t){e.store=t}},actions:{async loadDefaultStore({dispatch:e,commit:t}){let r=await o("currentStore");r||(r=await e("getFirstStore"));t("setStore",await e("getStore",r))},getStore:async({},e)=>(await L.get(`v1/stores/${e}`)).data,async getFirstStore(){const e=await L.get("v1/stores");if(e.data.data.length){const t=e.data.data[0];return await l("currentStore",t.id),t.id}return null}}});const F={props:{store:{type:Object,required:!0}},data:()=>({orders:{}}),created(){this.getOrders()},methods:{getOrders(){L.get(`v1/stores/${this.store.id}/orders`).then((e=>{this.orders=e.data})).catch((e=>{console.error(e)}))}}},O={class:"bg-white min-h-screen"},A=["onClick"],I={class:"inline-flex items-center flex-shrink-0 justify-center bg-light-95 w-8 h-6 rounded mr-2"},D={class:"font-medium"},K={class:"mr-2 truncate"},M={class:"flex items-center"},z={class:"font-medium truncate overflow-ellipsis"},P={class:"text-grey"},B=m(" Free "),N=r("div",{class:"flex-shrink-0 ml-auto text-grey"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3 stroke-current fill-transparent"},[r("path",{d:"M4.75 11.98h14.5M12.75 5.75l6.5 6.25-6.5 6.25","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1);F.render=function(e,s,o,n,i,l){return a(),t("div",O,[(a(!0),t(d,null,u(i.orders.data,(s=>(a(),t("a",{href:"#",class:"flex items-center px-2 py-1.5 border-b border-light-95 hover:bg-light-97",key:s.id,onClick:c((t=>e.$router.push({name:"order",params:{id:s.id}})),["prevent"])},[r("div",I,[r("span",D,p(s.attributes.order_number),1)]),r("div",K,[r("div",M,[r("h4",z,p(s.attributes.user_name?s.attributes.user_name:s.attributes.user_email),1)]),r("p",P,[s.attributes.total>0?(a(),t(d,{key:0},[m(p(e.formatCurrency(s.attributes.total,s.attributes.currency)),1)],64)):(a(),t(d,{key:1},[B],64))])]),N],8,A)))),128))])};const E={computed:{store(){return this.$store.state.store}},components:{Orders:F},created(){this.$store.dispatch("loadDefaultStore")}},H={key:0};E.render=function(r,o,n,i,l,d){const u=e("Header"),c=e("Orders");return a(),t("div",null,[s(u,{loading:!d.store.data},{default:h((()=>[d.store.data?(a(),t("span",H,p(d.store.data.attributes.name),1)):y("",!0)])),_:1},8,["loading"]),d.store.data?(a(),f(c,{key:0,store:d.store.data},null,8,["store"])):y("",!0)])};const T={props:{order:{type:Object,required:!0},items:{type:Array,required:!0}}},U=r("div",{class:"flex-shrink-0 w-8 h-6 mr-2 bg-light-95 rounded bg-center bg-no-repeat bg-cover"},null,-1),V={class:"font-medium"},G={key:0,class:"text-grey"},J={class:"flex-shrink-0 ml-auto"},Q={class:"ml-2"},R={class:"bg-white border-b border-light-95"},W={class:"flex justify-between px-2 py-1"},X=r("span",null,"Subtotal",-1),Y={key:0,class:"flex items-center justify-between px-2 py-0.5"},Z=r("span",null,"Discount",-1),ee={class:"flex justify-between px-2 py-1"},te={class:"flex justify-between px-2 py-1.5 font-medium"},re=r("span",null,"Total",-1),se=r("div",{class:"flex-shrink-0 w-6 h-6 mr-2 bg-light-95 rounded-full bg-center bg-no-repeat bg-cover"},null,-1),ae={class:"font-medium"},oe={class:"text-grey"};T.render=function(e,s,o,n,i,l){return a(),t("div",null,[(a(!0),t(d,null,u(o.items,(s=>(a(),t("div",{class:"flex px-2 py-1.5 bg-white border-b border-light-95",key:s.id},[U,r("div",null,[r("h4",V,p(s.attributes.product_name),1),s.attributes.variant_name&&"Default"!==s.attributes.variant_name?(a(),t("p",G,p(s.attributes.variant_name),1)):y("",!0)]),r("div",J,[r("p",Q,p(e.formatCurrency(s.attributes.price,o.order.attributes.currency)),1)])])))),128)),r("div",R,[r("p",W,[X,r("span",null,p(e.formatCurrency(o.order.attributes.subtotal,o.order.attributes.currency)),1)]),o.order.attributes.discount_total?(a(),t("p",Y,[Z,r("span",null," -"+p(e.formatCurrency(o.order.attributes.discount_total,o.order.attributes.currency)),1)])):y("",!0),r("p",ee,[r("span",null,p(o.order.attributes.tax_name?o.order.attributes.tax_name:"Tax"),1),r("span",null,p(e.formatCurrency(o.order.attributes.tax,o.order.attributes.currency)),1)]),r("p",te,[re,r("span",null,p(e.formatCurrency(o.order.attributes.total,o.order.attributes.currency)),1)])]),(a(!0),t(d,null,u(o.items,(e=>(a(),t("div",{class:"flex px-2 py-1.5 bg-white border-b border-light-95",key:e.id},[se,r("div",null,[r("h4",ae,p(o.order.attributes.user_name?o.order.attributes.user_name:"Customer"),1),r("p",oe,p(o.order.attributes.user_email),1)])])))),128))])};const ne={data:()=>({order:{}}),components:{Order:T},created(){this.$watch((()=>this.$route.params),(()=>{this.getOrder()}),{immediate:!0})},methods:{getOrder(){L.get(`v1/orders/${this.$route.params.id}?include=order-items`).then((e=>{this.order=e.data})).catch((e=>{console.error(e)}))}}},ie={key:0};ne.render=function(r,o,n,i,l,d){const u=e("Header"),c=e("Order",!0);return a(),t("div",null,[s(u,{loading:!l.order.data,"show-done":!0},{default:h((()=>[l.order.data?(a(),t("span",ie," Order #"+p(l.order.data.attributes.order_number),1)):y("",!0)])),_:1},8,["loading"]),l.order.data?(a(),f(c,{key:0,order:l.order.data,items:l.order.included},null,8,["order","items"])):y("",!0)])};const le={data:()=>({apiKey:"",error:"",working:!1}),emits:["login"],methods:{submit(){this.error="",this.working=!0,l("user.token",this.apiKey).then((()=>{L.get("v1/stores").then((e=>{200===e.status?this.$router.push({name:"dashboard"}):(this.error="Invalid API key",b("user.token"))})).catch((()=>{this.error="Invalid API key",b("user.token")})).finally((()=>{this.working=!1}))}))}},watch:{apiKey(){this.error=""}}},de={class:"p-6 py-15"},ue=w('<div class="flex items-center justify-center"><a href="https://www.lemonsqueezy.com"><svg width="24" height="40" viewBox="0 0 24 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.44011 24.4129L15.506 28.1336C16.5057 28.595 17.2114 29.3693 17.5924 30.2575C18.5563 32.5067 17.239 34.8071 15.1709 35.6343C13.1025 36.4613 10.8981 35.9291 9.89582 33.5901L6.38556 25.3782C6.11354 24.7416 6.79687 24.1162 7.44011 24.4129" fill="#FFC233"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M7.92482 22.0046L16.2509 18.8643C19.018 17.8206 22.0408 19.7953 22 22.6646C21.9994 22.7021 21.9987 22.7395 21.9977 22.7773C21.938 25.5714 18.9993 27.4494 16.293 26.4609L7.93271 23.4078C7.26581 23.1644 7.26088 22.255 7.92482 22.0046" fill="#FFC233"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M7.45767 20.9168L15.6425 17.4468C18.3623 16.2936 19.0525 12.8325 16.9224 10.8326C16.8945 10.8063 16.8666 10.7803 16.8383 10.7543C14.7499 8.82013 11.2974 9.50112 10.1085 12.0487L6.43564 19.9194C6.14259 20.5471 6.8049 21.1935 7.45767 20.9168" fill="#FFC233"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M5.35143 19.5456L8.32719 11.4044C8.69612 10.395 8.62779 9.36556 8.24637 8.47734C7.28051 6.22905 4.66482 5.50331 2.5971 6.33186C0.529704 7.16073 -0.638522 9.04315 0.365771 11.3812L3.89903 19.5843C4.17302 20.2199 5.11424 20.1948 5.35143 19.5456" fill="#FFC233"></path></svg></a></div><div class="text-center my-5"><h1 class="text-24 font-medium">Sign in to Lemon Squeezy</h1></div>',2),ce={class:"form-group"},pe=["disabled"],me={key:0,class:"form-error"},he=r("p",{class:"form-input-desc"},[m(" Create an API key in your "),r("a",{href:"https://app.lemonsqueezy.com/account",target:"_blank",class:"text-wtf-majorelle hover:underline"},"account settings"),m(". ")],-1),fe=["disabled"],ye=[r("span",{class:"mx-auto"},"Login",-1)];le.render=function(e,s,o,n,i,l){return a(),t("div",de,[ue,r("form",{onSubmit:s[1]||(s[1]=c(((...e)=>l.submit&&l.submit(...e)),["prevent"])),class:"flex flex-col"},[r("div",ce,[g(r("input",{type:"text",class:"form-input","onUpdate:modelValue":s[0]||(s[0]=e=>i.apiKey=e),placeholder:"Enter your Lemon Squeezy API key",required:"",disabled:i.working},null,8,pe),[[v,i.apiKey]]),i.error?(a(),t("p",me,p(i.error),1)):y("",!0),he]),r("button",{class:"btn btn-primary",disabled:!i.apiKey||i.working},ye,8,fe)],32)])};const be={props:{loading:{type:Boolean,default:!1},showDone:{type:Boolean,default:!1}}},ge={class:"relative flex items-center justify-center h-6 bg-light-97 border-b"},ve={class:"text-16 font-medium"},we=m(" Loading... ");be.render=function(e,s,o,n,i,l){return a(),t("div",ge,[r("h1",ve,[o.loading?(a(),t(d,{key:0},[we],64)):x(e.$slots,"default",{key:1})]),o.showDone&&!o.loading?(a(),t("a",{key:0,href:"#",class:"absolute top-0 right-0 inline-flex items-center h-full px-3 text-15 text-wtf-majorelle font-medium",onClick:s[0]||(s[0]=c((t=>e.$router.go(-1)),["prevent"]))}," Done ")):y("",!0)])};const xe=k({history:C(),routes:[{path:"/",component:E,name:"dashboard"},{path:"/order/:id",component:ne,name:"order"},{path:"/login",component:le,name:"login"}]});xe.beforeEach((async(e,t)=>{const r=await o("user.token");return"/login"===e.path&&r?"/":"/login"===e.path||r?void 0:"/login"}));const ke=_(q);ke.use(xe),ke.use($),ke.component("Header",be),ke.mixin({methods:{formatCurrency:(e,t)=>(e>0&&(e/=100),new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e))}}),ke.mount("#app");
